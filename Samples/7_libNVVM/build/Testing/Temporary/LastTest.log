Start testing: Nov 13 02:04 CET
----------------------------------------------------------
7/8 Testing: ptxgenTest
7/8 Test: ptxgenTest
Command: "/home/tojas/cuda-samples/Samples/7_libNVVM/build/ptxgen/ptxgen" "/home/tojas/cuda-samples/Samples/7_libNVVM/ptxgen/test.ll"
Directory: /home/tojas/cuda-samples/Samples/7_libNVVM/build
"ptxgenTest" start time: Nov 13 02:04 CET
Output:
----------------------------------------------------------


//
// Generated by NVIDIA NVVM Compiler
//
// Compiler Build ID: CL-33281558
// Cuda compilation tools, release 12.3, V12.3.52
// Based on NVVM 7.0.1
//

.version 8.3
.target sm_52
.address_size 64

	// .globl	_Z9testEmptyv

.visible .entry _Z9testEmptyv()
{



	ret;

}


<end of output>
Test time =   0.15 sec
----------------------------------------------------------
Test Passed.
"ptxgenTest" end time: Nov 13 02:04 CET
"ptxgenTest" time elapsed: 00:00:00
----------------------------------------------------------

1/8 Testing: test-cuda-shared-memory-shared_memory
1/8 Test: test-cuda-shared-memory-shared_memory
Command: "/home/tojas/cuda-samples/Samples/7_libNVVM/build/ptxgen/ptxgen" "/home/tojas/cuda-samples/Samples/7_libNVVM/cuda-shared-memory/shared_memory.ll"
Directory: /home/tojas/cuda-samples/Samples/7_libNVVM/build
"test-cuda-shared-memory-shared_memory" start time: Nov 13 02:04 CET
Output:
----------------------------------------------------------


//
// Generated by NVIDIA NVVM Compiler
//
// Compiler Build ID: CL-33281558
// Cuda compilation tools, release 12.3, V12.3.52
// Based on NVVM 7.0.1
//

.version 8.3
.target sm_52
.address_size 64

	// .globl	foo

.visible .entry foo()
{



	ret;

}


<end of output>
Test time =   0.02 sec
----------------------------------------------------------
Test Passed.
"test-cuda-shared-memory-shared_memory" end time: Nov 13 02:04 CET
"test-cuda-shared-memory-shared_memory" time elapsed: 00:00:00
----------------------------------------------------------

2/8 Testing: test-cuda-shared-memory-extern_shared_memory
2/8 Test: test-cuda-shared-memory-extern_shared_memory
Command: "/home/tojas/cuda-samples/Samples/7_libNVVM/build/ptxgen/ptxgen" "/home/tojas/cuda-samples/Samples/7_libNVVM/cuda-shared-memory/extern_shared_memory.ll"
Directory: /home/tojas/cuda-samples/Samples/7_libNVVM/build
"test-cuda-shared-memory-extern_shared_memory" start time: Nov 13 02:04 CET
Output:
----------------------------------------------------------


//
// Generated by NVIDIA NVVM Compiler
//
// Compiler Build ID: CL-33281558
// Cuda compilation tools, release 12.3, V12.3.52
// Based on NVVM 7.0.1
//

.version 8.3
.target sm_52
.address_size 64

	// .globl	foo
.extern .shared .align 4 .b8 a[];

.visible .entry foo()
{
	.reg .b32 	%r<3>;


	mov.u32 	%r1, 10;
	st.shared.u32 	[a], %r1;
	mov.u32 	%r2, 1101529088;
	st.shared.u32 	[a+40], %r2;
	ret;

}


<end of output>
Test time =   0.02 sec
----------------------------------------------------------
Test Passed.
"test-cuda-shared-memory-extern_shared_memory" end time: Nov 13 02:04 CET
"test-cuda-shared-memory-extern_shared_memory" time elapsed: 00:00:00
----------------------------------------------------------

3/8 Testing: device-side-launch
3/8 Test: device-side-launch
Command: "/home/tojas/cuda-samples/Samples/7_libNVVM/build/device-side-launch/dsl"
Directory: /home/tojas/cuda-samples/Samples/7_libNVVM/build
"device-side-launch" start time: Nov 13 02:04 CET
Output:
----------------------------------------------------------
Using CUDA Device [0]: NVIDIA GeForce GTX 1050 Ti
compute capability = 6.1
NVVM IR ll file loaded
PTX generated:
//
// Generated by NVIDIA NVVM Compiler
//
// Compiler Build ID: CL-33281558
// Cuda compilation tools, release 12.3, V12.3.52
// Based on NVVM 7.0.1
//

.version 8.3
.target sm_61
.address_size 64

	// .globl	kernel
.extern .func  (.param .b32 func_retval0) vprintf
(
	.param .b64 vprintf_param_0,
	.param .b64 vprintf_param_1
)
;
.extern .func  (.param .b64 func_retval0) cudaGetParameterBufferV2
(
	.param .b64 cudaGetParameterBufferV2_param_0,
	.param .align 4 .b8 cudaGetParameterBufferV2_param_1[12],
	.param .align 4 .b8 cudaGetParameterBufferV2_param_2[12],
	.param .b32 cudaGetParameterBufferV2_param_3
)
;
.extern .func  (.param .b32 func_retval0) cudaLaunchDeviceV2
(
	.param .b64 cudaLaunchDeviceV2_param_0,
	.param .b64 cudaLaunchDeviceV2_param_1
)
;
.global .align 1 .b8 $str[29] = {107, 101, 114, 110, 101, 108, 32, 108, 97, 117, 110, 99, 104, 101, 100, 44, 32, 100, 101, 112, 116, 104, 32, 61, 32, 37, 100, 10};

.visible .entry kernel(
	.param .u32 kernel_param_0
)
{
	.local .align 8 .b8 	__local_depot0[8];
	.reg .b64 	%SP;
	.reg .b64 	%SPL;
	.reg .pred 	%p<4>;
	.reg .b32 	%r<6>;
	.reg .b64 	%rd<7>;


	mov.u64 	%SPL, __local_depot0;
	cvta.local.u64 	%SP, %SPL;
	ld.param.u32 	%r1, [kernel_param_0];
	mov.u32 	%r2, %tid.x;
	setp.ne.s32 	%p1, %r2, 0;
	@%p1 bra 	$L__BB0_2;

	add.u64 	%rd2, %SP, 0;
	add.u64 	%rd3, %SPL, 0;
	st.local.u32 	[%rd3], %r1;
	mov.u64 	%rd4, $str;
	cvta.global.u64 	%rd5, %rd4;
	{ // callseq 0, 0
	.reg .b32 temp_param_reg;
	.param .b64 param0;
	st.param.b64 	[param0+0], %rd5;
	.param .b64 param1;
	st.param.b64 	[param1+0], %rd2;
	.param .b32 retval0;
	call.uni (retval0), 
	vprintf, 
	(
	param0, 
	param1
	);
	ld.param.b32 	%r3, [retval0+0];
	} // callseq 0

$L__BB0_2:
	bar.sync 	0;
	setp.gt.s32 	%p2, %r1, 2;
	@%p2 bra 	$L__BB0_5;

	mov.u64 	%rd6, kernel;
	{ // callseq 1, 0
	.reg .b32 temp_param_reg;
	.param .b64 param0;
	st.param.b64 	[param0+0], %rd6;
	.param .align 4 .b8 param1[12];
	st.param.b32 	[param1+0], 1;
	st.param.b32 	[param1+4], 1;
	st.param.b32 	[param1+8], 1;
	.param .align 4 .b8 param2[12];
	st.param.b32 	[param2+0], 1;
	st.param.b32 	[param2+4], 1;
	st.param.b32 	[param2+8], 1;
	.param .b32 param3;
	st.param.b32 	[param3+0], 0;
	.param .b64 retval0;
	call.uni (retval0), 
	cudaGetParameterBufferV2, 
	(
	param0, 
	param1, 
	param2, 
	param3
	);
	ld.param.b64 	%rd1, [retval0+0];
	} // callseq 1
	setp.eq.s64 	%p3, %rd1, 0;
	@%p3 bra 	$L__BB0_5;

	add.s32 	%r4, %r1, 1;
	st.u32 	[%rd1], %r4;
	{ // callseq 2, 0
	.reg .b32 temp_param_reg;
	.param .b64 param0;
	st.param.b64 	[param0+0], %rd1;
	.param .b64 param1;
	st.param.b64 	[param1+0], 0;
	.param .b32 retval0;
	call.uni (retval0), 
	cudaLaunchDeviceV2, 
	(
	param0, 
	param1
	);
	ld.param.b32 	%r5, [retval0+0];
	} // callseq 2

$L__BB0_5:
	ret;

}


kernel launched, depth = 0
kernel launched, depth = 1
kernel launched, depth = 2
kernel launched, depth = 3
<end of output>
Test time =   0.23 sec
----------------------------------------------------------
Test Passed.
"device-side-launch" end time: Nov 13 02:04 CET
"device-side-launch" time elapsed: 00:00:00
----------------------------------------------------------

4/8 Testing: simple
4/8 Test: simple
Command: "/home/tojas/cuda-samples/Samples/7_libNVVM/build/simple/simple"
Directory: /home/tojas/cuda-samples/Samples/7_libNVVM/build
"simple" start time: Nov 13 02:04 CET
Output:
----------------------------------------------------------
NVVM IR (.ll) file loaded
PTX generated:
//
// Generated by NVIDIA NVVM Compiler
//
// Compiler Build ID: CL-33281558
// Cuda compilation tools, release 12.3, V12.3.52
// Based on NVVM 7.0.1
//

.version 8.3
.target sm_52
.address_size 64

	// .globl	ave

.visible .func  (.param .b32 func_retval0) ave(
	.param .b32 ave_param_0,
	.param .b32 ave_param_1
)
{
	.reg .b32 	%r<7>;


	ld.param.u32 	%r1, [ave_param_0];
	ld.param.u32 	%r2, [ave_param_1];
	add.s32 	%r3, %r2, %r1;
	shr.u32 	%r4, %r3, 31;
	add.s32 	%r5, %r3, %r4;
	shr.s32 	%r6, %r5, 1;
	st.param.b32 	[func_retval0+0], %r6;
	ret;

}
	// .globl	simple
.visible .entry simple(
	.param .u64 simple_param_0
)
{
	.reg .b32 	%r<5>;
	.reg .b64 	%rd<5>;


	ld.param.u64 	%rd1, [simple_param_0];
	cvta.to.global.u64 	%rd2, %rd1;
	mov.u32 	%r1, %ctaid.x;
	mov.u32 	%r2, %ntid.x;
	mov.u32 	%r3, %tid.x;
	mad.lo.s32 	%r4, %r1, %r2, %r3;
	mul.wide.s32 	%rd3, %r4, 4;
	add.s64 	%rd4, %rd2, %rd3;
	st.global.u32 	[%rd4], %r4;
	ret;

}


Using CUDA Device [0]: NVIDIA GeForce GTX 1050 Ti
CUDA kernel launched
0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 
<end of output>
Test time =   0.13 sec
----------------------------------------------------------
Test Passed.
"simple" end time: Nov 13 02:04 CET
"simple" time elapsed: 00:00:00
----------------------------------------------------------

5/8 Testing: test-syscalls-malloc-free
5/8 Test: test-syscalls-malloc-free
Command: "/home/tojas/cuda-samples/Samples/7_libNVVM/build/ptxgen/ptxgen" "/home/tojas/cuda-samples/Samples/7_libNVVM/syscalls/malloc-free.ll"
Directory: /home/tojas/cuda-samples/Samples/7_libNVVM/build
"test-syscalls-malloc-free" start time: Nov 13 02:04 CET
Output:
----------------------------------------------------------


//
// Generated by NVIDIA NVVM Compiler
//
// Compiler Build ID: CL-33281558
// Cuda compilation tools, release 12.3, V12.3.52
// Based on NVVM 7.0.1
//

.version 8.3
.target sm_52
.address_size 64

	// .globl	foo
.extern .func  (.param .b64 func_retval0) malloc
(
	.param .b64 malloc_param_0
)
;
.extern .func free
(
	.param .b64 free_param_0
)
;
.global .align 8 .u64 p;

.visible .entry foo()
{
	.reg .b64 	%rd<2>;


	{ // callseq 0, 0
	.reg .b32 temp_param_reg;
	.param .b64 param0;
	st.param.b64 	[param0+0], 128;
	.param .b64 retval0;
	call.uni (retval0), 
	malloc, 
	(
	param0
	);
	ld.param.b64 	%rd1, [retval0+0];
	} // callseq 0
	st.global.u64 	[p], %rd1;
	{ // callseq 1, 0
	.reg .b32 temp_param_reg;
	.param .b64 param0;
	st.param.b64 	[param0+0], %rd1;
	call.uni 
	free, 
	(
	param0
	);
	} // callseq 1
	ret;

}


<end of output>
Test time =   0.01 sec
----------------------------------------------------------
Test Passed.
"test-syscalls-malloc-free" end time: Nov 13 02:04 CET
"test-syscalls-malloc-free" time elapsed: 00:00:00
----------------------------------------------------------

6/8 Testing: test-syscalls-vprintf
6/8 Test: test-syscalls-vprintf
Command: "/home/tojas/cuda-samples/Samples/7_libNVVM/build/ptxgen/ptxgen" "/home/tojas/cuda-samples/Samples/7_libNVVM/syscalls/vprintf.ll"
Directory: /home/tojas/cuda-samples/Samples/7_libNVVM/build
"test-syscalls-vprintf" start time: Nov 13 02:04 CET
Output:
----------------------------------------------------------


//
// Generated by NVIDIA NVVM Compiler
//
// Compiler Build ID: CL-33281558
// Cuda compilation tools, release 12.3, V12.3.52
// Based on NVVM 7.0.1
//

.version 8.3
.target sm_52
.address_size 64

	// .globl	foo
.extern .func  (.param .b32 func_retval0) vprintf
(
	.param .b64 vprintf_param_0,
	.param .b64 vprintf_param_1
)
;
.const .align 1 .b8 $str[41] = {72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 32, 102, 114, 111, 109, 32, 37, 99, 32, 37, 104, 105, 32, 37, 100, 32, 37, 108, 100, 32, 37, 102, 32, 37, 102, 32, 37, 115, 10};

.visible .entry foo(
	.param .u8 foo_param_0,
	.param .u16 foo_param_1,
	.param .u32 foo_param_2,
	.param .u64 foo_param_3,
	.param .f32 foo_param_4,
	.param .f64 foo_param_5,
	.param .u64 foo_param_6
)
{
	.local .align 16 .b8 	__local_depot0[48];
	.reg .b64 	%SP;
	.reg .b64 	%SPL;
	.reg .b16 	%rs<2>;
	.reg .f32 	%f<2>;
	.reg .b32 	%r<5>;
	.reg .f64 	%fd<2>;
	.reg .b64 	%rd<9>;


	mov.u64 	%SPL, __local_depot0;
	cvta.local.u64 	%SP, %SPL;
	ld.param.s8 	%rs1, [foo_param_0];
	ld.param.u32 	%r1, [foo_param_2];
	ld.param.f32 	%f1, [foo_param_4];
	add.u64 	%rd1, %SP, 0;
	add.u64 	%rd2, %SPL, 0;
	cvt.s32.s16 	%r2, %rs1;
	ld.param.s16 	%r3, [foo_param_1];
	st.local.v2.u32 	[%rd2], {%r2, %r3};
	st.local.u32 	[%rd2+8], %r1;
	cvt.f64.f32 	%fd1, %f1;
	mov.b64 	%rd3, %fd1;
	ld.param.u64 	%rd4, [foo_param_3];
	st.local.v2.u64 	[%rd2+16], {%rd4, %rd3};
	ld.param.u64 	%rd5, [foo_param_6];
	ld.param.u64 	%rd6, [foo_param_5];
	st.local.v2.u64 	[%rd2+32], {%rd6, %rd5};
	mov.u64 	%rd7, $str;
	cvta.const.u64 	%rd8, %rd7;
	{ // callseq 0, 0
	.reg .b32 temp_param_reg;
	.param .b64 param0;
	st.param.b64 	[param0+0], %rd8;
	.param .b64 param1;
	st.param.b64 	[param1+0], %rd1;
	.param .b32 retval0;
	call.uni (retval0), 
	vprintf, 
	(
	param0, 
	param1
	);
	ld.param.b32 	%r4, [retval0+0];
	} // callseq 0
	ret;

}


<end of output>
Test time =   0.01 sec
----------------------------------------------------------
Test Passed.
"test-syscalls-vprintf" end time: Nov 13 02:04 CET
"test-syscalls-vprintf" time elapsed: 00:00:00
----------------------------------------------------------

8/8 Testing: uvmlite
8/8 Test: uvmlite
Command: "/home/tojas/cuda-samples/Samples/7_libNVVM/build/uvmlite/uvmlite"
Directory: /home/tojas/cuda-samples/Samples/7_libNVVM/build
"uvmlite" start time: Nov 13 02:04 CET
Output:
----------------------------------------------------------
Using CUDA Device [0]: NVIDIA GeForce GTX 1050 Ti
compute capability = 6.1
NVVM IR ll file loaded
PTX generated:
//
// Generated by NVIDIA NVVM Compiler
//
// Compiler Build ID: CL-33281558
// Cuda compilation tools, release 12.3, V12.3.52
// Based on NVVM 7.0.1
//

.version 8.3
.target sm_61
.address_size 64

	// .globl	test_kernel
.global .attribute(.managed) .align 4 .u32 xxx = 10;
.global .attribute(.managed) .align 4 .u32 yyy = 100;

.visible .entry test_kernel(
	.param .u64 test_kernel_param_0
)
{
	.reg .b32 	%r<5>;
	.reg .b64 	%rd<3>;


	ld.param.u64 	%rd1, [test_kernel_param_0];
	cvta.to.global.u64 	%rd2, %rd1;
	ld.global.u32 	%r1, [%rd2];
	add.s32 	%r2, %r1, 20;
	st.global.u32 	[%rd2], %r2;
	ld.global.u32 	%r3, [yyy];
	add.s32 	%r4, %r3, 30;
	st.global.u32 	[yyy], %r4;
	ret;

}


The initial value of xxx initialized by the device = 10
The initial value of yyy initialized by the device = 100
The host added 1 and 11 to xxx and yyy.
kernel added 20 and 30 to xxx and yyy, respectively.
The final value checked in the host: xxx = 31, yyy = 141
<end of output>
Test time =   0.12 sec
----------------------------------------------------------
Test Passed.
"uvmlite" end time: Nov 13 02:04 CET
"uvmlite" time elapsed: 00:00:00
----------------------------------------------------------

End testing: Nov 13 02:04 CET
